@import url("https://api.fontshare.com/v2/css?f[]=satoshi@400&display=swap");
@import url("https://api.fontshare.com/v2/css?f[]=ranade@100,200,300,400,500,600,700&display=swap");

@import url("https://api.fontshare.com/v2/css?f[]=satoshi@1,300,400,500,700,900&f[]=gambetta@1,300,400,500,700&f[]=excon@1,300,400,500,700&f[]=quilon@400,500,600,700&f[]=bespoke-sans@300,400,500,600,700&f[]=jet-brains-mono@1,300,400,500,700&f[]=merriweather-sans@300,400,600,700,800&f[]=epilogue@1,300,400,500,600,700,800,900&f[]=spline-sans@300,400,500,600,700&f[]=hind@300,400,500,600,700&f[]=roundo@300,400,500,600,700&f[]=outfit@100,200,300,400,500,600,700,800,900&display=swap");
@import url("https://api.fontshare.com/v2/css?f[]=literata@300,400,500,600,700&ital=1&display=swap");

/* Убрали импорт lenis.css - он ломал позиционирование модалок */
/* @import url("../components/lenis/lenis.css"); */

:root {
    --font-alumni-sans: "Alumni Sans", sans-serif;
    --font-exo-2: "Exo 2", sans-serif;
    --font-dela-gothic-one: "Dela Gothic One", sans-serif;
    --font-satoshi: "Satoshi", "SF Pro Display", -apple-system, sans-serif;
    --font-ranade: "Ranade", "SF Pro Text", -apple-system, sans-serif;
}

/* ===== FOCUS STYLES FOR ACCESSIBILITY ===== */
button:focus-visible,
input:focus-visible {
    outline: 2px solid #1a1a1a;
    outline-offset: 2px;
}

/* ===== MODAL SCROLL LOCK ===== */
/* Блокируем скролл для всех модалок, кроме order модалки */
body.modal-open:not(.order-modal-open) {
    overflow: hidden !important;
}

/* Для order модалки блокируем body скролл, но разрешаем внутри модалки */
body.order-modal-open {
    overflow: hidden !important;
}

/* Блокируем скролл фона для модальных окон */
body.modal-page-scroll {
    overflow: hidden !important;
}

/* Восстанавливаем скролл только внутри модалки */
body.order-modal-open .modal-content,
body.order-modal-open .left-column,
body.order-modal-open .right-column,
body.order-modal-open .scrollable-content {
    overflow: auto !important;
    scrollbar-width: auto !important;
    -ms-overflow-style: auto !important;
    -webkit-overflow-scrolling: touch !important;
}

body.order-modal-open .modal-content *::-webkit-scrollbar,
body.order-modal-open .left-column::-webkit-scrollbar,
body.order-modal-open .right-column::-webkit-scrollbar,
body.order-modal-open .scrollable-content::-webkit-scrollbar {
    display: block !important;
    width: 8px !important;
}

html,
body {
    margin: 0;
    padding: 0;
    /*padding: 0.2rem;*/
    scroll-behavior: auto; /* Будет управляться Lenis на десктопе, smooth на мобильных */
    overflow-x: clip;
    min-height: 100vh;
    background-color: #f9edda;
}

/* Убираем padding когда гамбургер меню открыто */
body.hamburger-menu-open {
    padding: 0 !important;
}

/* Нативный smooth scroll для мобильных устройств */
@media (max-width: 1023px) {
    html {
        scroll-behavior: smooth !important;
        -webkit-overflow-scrolling: touch;
        overflow-scrolling: touch;
    }

    body {
        scroll-behavior: smooth !important;
        -webkit-overflow-scrolling: touch;
        overflow-scrolling: touch;
    }
}

/* Скрытие скролл-бара для всех браузеров */
html {
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* Internet Explorer 10+ */
}

html::-webkit-scrollbar {
    display: none; /* WebKit браузеры (Chrome, Safari, Edge) */
}

body {
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* Internet Explorer 10+ */
}

body::-webkit-scrollbar {
    display: none; /* WebKit браузеры (Chrome, Safari, Edge) */
}

/* Для всех элементов с overflow: auto или scroll */
* {
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* Internet Explorer 10+ */
}

*::-webkit-scrollbar {
    display: none; /* WebKit браузеры */
}

/* Исключение для order модалки - внутренний скролл */
body.order-modal-open .modal-content,
body.order-modal-open .left-column,
body.order-modal-open .right-column,
body.order-modal-open .scrollable-content {
    scrollbar-width: thin !important;
    -ms-overflow-style: auto !important;
}

body.order-modal-open .modal-content *::-webkit-scrollbar,
body.order-modal-open .left-column::-webkit-scrollbar,
body.order-modal-open .right-column::-webkit-scrollbar,
body.order-modal-open .scrollable-content::-webkit-scrollbar {
    display: block !important;
    width: 8px !important;
}

body.order-modal-open .modal-content *::-webkit-scrollbar-track,
body.order-modal-open .left-column::-webkit-scrollbar-track,
body.order-modal-open .right-column::-webkit-scrollbar-track,
body.order-modal-open .scrollable-content::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1) !important;
    border-radius: 4px !important;
}

body.order-modal-open .modal-content *::-webkit-scrollbar-thumb,
body.order-modal-open .left-column::-webkit-scrollbar-thumb,
body.order-modal-open .right-column::-webkit-scrollbar-thumb,
body.order-modal-open .scrollable-content::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.3) !important;
    border-radius: 4px !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
}

body.order-modal-open .modal-content *::-webkit-scrollbar-thumb:hover,
body.order-modal-open .left-column::-webkit-scrollbar-thumb:hover,
body.order-modal-open .right-column::-webkit-scrollbar-thumb:hover,
body.order-modal-open .scrollable-content::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.5) !important;
}

/* Modal scroll blocking - НЕ для order модалки */
html.no-scroll:not(.order-modal-open),
body.no-scroll:not(.order-modal-open) {
    overflow: hidden !important;
    position: fixed !important;
    width: 100% !important;
    height: 100% !important;
    -webkit-overflow-scrolling: auto !important;
    overflow-scrolling: auto !important;
}

/* Order модалка - блокируем background скролл */
html.order-modal-open,
body.order-modal-open {
    overflow: hidden !important;
}

/* iOS Safari notch area (status bar) - white background with black text */
@supports (padding-top: env(safe-area-inset-top)) {
    html {
        /*background-color: white;*/
        /* Force dark status bar content (black icons/text) */
        color-scheme: light;
    }

    body {
        margin-top: env(safe-area-inset-top);
        background: transparent;
    }
}

@keyframes glossFlow {
    0% {
        background-position: 0% 0%;
    }
    50% {
        background-position: 100% 100%;
    }
    100% {
        background-position: 0% 0%;
    }
}

@keyframes gradientShift {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}

a {
    text-decoration: none;
}

/* iOS Safari specific fixes for backdrop-filter and stacking context */
@supports (-webkit-backdrop-filter: blur(1px)) {
    /* Force hardware acceleration for better performance on iOS */
    .modal-window,
    .hamburger-icon {
        -webkit-transform: translateZ(0);
        transform: translateZ(0);
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
    }

    /* Ensure proper layer ordering on iOS Safari */
    .hamburger-icon.open {
        -webkit-transform: translateZ(1px);
        transform: translateZ(1px);
    }
}

/* iOS Safari viewport units fix */
@supports (-webkit-appearance: none) {
    .modal-window {
        height: 100vh;
        height: -webkit-fill-available;
    }
}

/* iOS Safari scroll behavior improvements */
@media screen and (-webkit-min-device-pixel-ratio: 2) {
    body:not(.no-scroll) {
        -webkit-overflow-scrolling: touch;
        overflow-scrolling: touch;
    }
}

/* iOS Safari specific media queries and fixes */
@supports (-webkit-touch-callout: none) {
    /* This targets iOS Safari specifically */

    /* Enable smooth scrolling on iOS */
    html:not(.no-scroll),
    body:not(.no-scroll) {
        -webkit-overflow-scrolling: touch;
        overflow-scrolling: touch;
        scroll-behavior: smooth;
    }

    /* Force hamburger icon to stay on top - minimal approach */
    .hamburger-icon.open {
        z-index: 999999 !important;
        overflow-scrolling: touch;
    }

    /* Minimal iOS Safari scroll fix */
    body:not(.no-scroll) {
        -webkit-overflow-scrolling: touch;
        scroll-behavior: smooth;
    }
}

/* ===== CART SWING ANIMATION ===== */
@keyframes cartSwing {
    0% {
        transform: translateY(-30px) rotate(0deg) scale(1);
    }
    20% {
        transform: translateY(-48px) rotate(0deg) scale(1.1);
    }
    40% {
        transform: translateY(-48px) rotate(-4deg) scale(1.1);
    }
    60% {
        transform: translateY(-48px) rotate(4deg) scale(1.1);
    }
    80% {
        transform: translateY(-44px) rotate(-2deg) scale(1.05);
    }
    90% {
        transform: translateY(-42px) rotate(1deg) scale(1.02);
    }
    100% {
        transform: translateY(-30px) rotate(0deg) scale(1);
    }
}

.cart-shake-animation {
    animation: cartSwing 0.8s ease-out;
    animation-fill-mode: both;
    transform-origin: center center;
}
